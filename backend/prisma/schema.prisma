generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum EmployeeRange {
  RANGE_1_10
  RANGE_10_50
  RANGE_50_100
  RANGE_100_PLUS
}


model Company {
  id                      String         @id @default(uuid())
  fullname                String
  email                   String         @unique
  password                String
  isVerified              Boolean        @default(false)
  role                    String         @default("owner")
  companyName             String?
  employeeRange           EmployeeRange?
  businessType            String?
  address                 String?
  isNewsLetterSubscribe   Boolean?       @default(false)
  forgotPasswordOtp       String?
  forgotPasswordExpiry    DateTime?
  isVerifiedOtp           Boolean?       @default(false)
  forgotPasswordUrl       String?
  forgotPasswordUrlExpiry DateTime? 
  employees               Employee[]
}

model Employee {
  id                      String        @id @default(uuid())
  fullname                String
  email                   String        @unique
  password                String
  isVerified              Boolean       @default(false)
  role                    String @default("employee")
  isInvited  Boolean @default(false)
  isAccountCreated Boolean @default(false)
  invitationToken String 
  invitationTokenExpiry DateTime
  isInvitedTokenUsed Boolean @default(false)
  companyName             String?
  isNewsLetterSubscribe   Boolean?      @default(false)
  forgotPasswordOtp       String?
  forgotPasswordExpiry    DateTime? 
  isVerifiedOtp           Boolean?      @default(false)
  forgotPasswordUrl       String?
  forgotPasswordUrlExpiry DateTime?
  companyId               String
  company                 Company       @relation(fields: [companyId], references: [id])
}
